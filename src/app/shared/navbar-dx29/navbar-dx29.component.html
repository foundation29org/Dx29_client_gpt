<!-- Navbar (Header) Starts -->
<nav class="navbar navbar-expand-xl navbar-light bg-faded damemarger custom-navbar">
  <div class="container-fluid">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" (click)="toggleMenu()">
          <span class="navbar-toggler-icon"></span>
      </button>
      <div class="d-none d-xl-block">
          <span class="navbar-header-logos">
              <img *ngIf="isHomePage" class="logo-header pointer" [src]="headerLogo" alt="DxGPT - AI-powered medical diagnosis" (click)="lauchEvent('Logo');goBackEvent();"/>
              <img *ngIf="!isHomePage" class="logo-header pointer" [src]="headerLogo" alt="DxGPT - AI-powered medical diagnosis" routerLink="/." (click)="lauchEvent('Logo');" style="cursor: pointer;"/>
          </span>
      </div>
      <div class="d-block">
        <div class="d-sm-block d-xl-none pointer">
          <img *ngIf="isHomePage" class="mt-1 logo-header pointer" [src]="headerLogo" alt="DxGPT - AI-powered medical diagnosis" (click)="lauchEvent('Logo');goBackEvent();"/>
          <img *ngIf="!isHomePage" class="mt-1 logo-header pointer" [src]="headerLogo" alt="DxGPT - AI-powered medical diagnosis" routerLink="/." (click)="lauchEvent('Logo');" style="cursor: pointer;"/>
      </div>
        <div [class.collapse]="!isMenuExpanded" [class.show]="isMenuExpanded" class="navbar-collapse" id="navbarSupportedContent">
          <button *ngIf="isMenuExpanded" class="close-menu-btn d-xl-none" (click)="toggleMenu()">×</button>
          <ul class="navbar-nav m-r-0 menu-items">
              <li class="nav-item me-2">
                  <a class="nav-link" [ngClass]="(!isHomePage)?'black':'nav-active'" routerLink="/." (click)="lauchEvent('Page - Home'); goBackEvent();" [attr.aria-label]="'menu.Dashboard' | translate">
                      <span>{{'menu.Dashboard' | translate }}</span>
                  </a>
              </li>
              <li class="nav-item me-2">
                  <a class="nav-link" [ngClass]="(!isAboutPage)?'black':'nav-active'" routerLink="/aboutus" (click)="lauchEvent('Page - About us')" [attr.aria-label]="'menu.About us' | translate">
                      <span>{{'menu.About us' | translate }}</span>
                  </a>
              </li>
              <li class="nav-item me-2">
                <a class="nav-link" [ngClass]="(!isFoundation29Page)?'black':'nav-active'" routerLink="/foundation29" (click)="lauchEvent('Page - Foundation 29')" [attr.aria-label]="'foundation29.hero.title' | translate">
                    <span>{{'foundation29.hero.title' | translate }}</span>
                </a>
              </li>
              <li class="nav-item me-2" *ngIf="shouldShowDonate">
                  <a class="nav-link" [ngClass]="(!isIntegrationPage)?'black':'nav-active'" routerLink="/integration" (click)="lauchEvent('Page - Integration')" [attr.aria-label]="'integration.title' | translate">
                      <span>{{'integration.title' | translate }}</span>
                  </a>
              </li>
              <li class="nav-item me-2" *ngIf="shouldShowDonate">
                  <a class="nav-link" [ngClass]="(!isCollaborationPage)?'black':'nav-active'" routerLink="/collaboration" (click)="lauchEvent('Page - Collaboration')" [attr.aria-label]="'menu.Collaboration' | translate">
                      <span>{{'menu.Collaboration' | translate }}</span>
                  </a>
              </li>
              <li class="nav-item me-2">
                  <a class="nav-link" [ngClass]="(!isFaqPage)?'black':'nav-active'" routerLink="/faq" (click)="lauchEvent('Page - FAQ')" [attr.aria-label]="'faqs.title' | translate">
                      <span>FAQs</span>
                  </a>
              </li>
              <!--privacy-policy-->
              <li class="nav-item me-2">
                  <a class="nav-link" [ngClass]="(!isPrivacyPolicyPage)?'black':'nav-active'" routerLink="/privacy-policy" (click)="lauchEvent('Page - Privacy policy')" [attr.aria-label]="'menu.Privacy' | translate">
                      <span>{{'menu.Privacy' | translate }}</span>
                  </a>
              </li>
              <!--statistics-->
              <li class="nav-item me-2 d-xl-none d-block" *ngIf="shouldShowDonate">
                  <a class="nav-link" [ngClass]="(!isReportsPage)?'black':'nav-active'" routerLink="/reports" (click)="lauchEvent('Page - Usage statistics')" [attr.aria-label]="'menu.Statistics' | translate">
                      <span>{{'menu.Statistics' | translate }}</span>
                  </a>
              </li>
              <!-- Botón Beta destacado -->
              <li class="nav-item me-2 beta-link" *ngIf="shouldShowDonate">
                  <a class="nav-link btn btn-warning round white mb-0 btn-sm beta-a" 
                     [ngClass]="{'beta-active': isBetaPage}"
                     routerLink="/beta" 
                     (click)="lauchEvent('Page - Beta')"
                     [attr.aria-label]="'Beta' | translate">
                      <span>BETA <em class="ms-1 fa fa-flask" aria-hidden="true"></em></span>
                  </a>
              </li>
 
          </ul>
        </div>
      </div>
      
      <div class="navbar-container ps-0">
          <div id="navbarSupportedContent2">
              <ul class="navbar-nav m-r-0">
                  <li class="nav-item me-2" ngbDropdown display="dynamic" placement="bottom-right">
                      <a class="position-relative colorlink" id="dropdownLang" ngbDropdownToggle role="button" aria-haspopup="true" aria-expanded="false" [attr.aria-label]="'Select language: ' + currentLang">
                          <u>{{currentLang}}</u>
                      </a>
                      <div ngbDropdownMenu aria-labelledby="dropdownLang" class="dropdownLang">
                          <a *ngFor="let lang of langs" class="dropdown-item py-1 lang" href="#" (click)="ChangeLanguage(lang.code); $event.preventDefault()" [attr.aria-label]="'Change language to ' + lang.name">
                              <span>{{lang.name}}</span>
                          </a>
                      </div>
                  </li>
              </ul>
          </div>
      </div>
  </div>
</nav>
<!-- Navbar (Header) Ends -->

<!-- Template para el modal dinámico -->
<ng-template #sendMsgModal let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">{{ getModalTitle() }}</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="closeModal()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body p-0">
    <app-send-msg [mode]="modalMode" (closeModalEvent)="closeModal()"></app-send-msg>
  </div>
</ng-template>
